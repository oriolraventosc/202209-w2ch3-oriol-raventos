const preguntas1 = [
  {
    letter: "a",
    answer: "abducir",
    estado: false,
    status: 0,
    question:
      "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien",
  },
  {
    letter: "b",
    answer: "bingo",
    estado: false,
    status: 0,
    question:
      "CON LA B. Juego que ha sacado de quicio a todos los 'Skylabers' en las sesiones de precurso",
  },
  {
    letter: "c",
    answer: "churumbel",
    estado: false,
    status: 0,
    question: "CON LA C. Niño, crío, bebé",
  },
  {
    letter: "d",
    answer: "diarrea",
    estado: false,
    status: 0,
    question:
      "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida",
  },
  {
    letter: "e",
    answer: "ectoplasma",
    estado: false,
    status: 0,
    question:
      "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación",
  },
  {
    letter: "f",
    answer: "facil",
    estado: false,
    status: 0,
    question: "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad",
  },
  {
    letter: "g",
    answer: "galaxia",
    estado: false,
    status: 0,
    question:
      "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas",
  },
  {
    letter: "h",
    answer: "harakiri",
    estado: false,
    status: 0,
    question: "CON LA H. Suicidio ritual japonés por desentrañamiento",
  },
  {
    letter: "i",
    answer: "iglesia",
    estado: false,
    status: 0,
    question: "CON LA I. Templo cristiano",
  },
  {
    letter: "j",
    answer: "jabali",
    estado: false,
    status: 0,
    question:
      "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba",
  },
  {
    letter: "k",
    answer: "kamikaze",
    estado: false,
    status: 0,
    question:
      "CON LA K. Persona que se juega la vida realizando una acción temeraria",
  },
  {
    letter: "l",
    answer: "licantropo",
    estado: false,
    status: 0,
    question: "CON LA L. Hombre lobo",
  },
  {
    letter: "m",
    answer: "misantropo",
    estado: false,
    status: 0,
    question:
      "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas",
  },
  {
    letter: "n",
    answer: "necedad",
    estado: false,
    status: 0,
    question: "CON LA N. Demostración de poca inteligencia",
  },
  {
    letter: "ñ",
    answer: "señal",
    estado: false,
    status: 0,
    question:
      "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo.",
  },
  {
    letter: "o",
    answer: "orco",
    estado: false,
    status: 0,
    question:
      "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien",
  },
  {
    letter: "p",
    answer: "protoss",
    estado: false,
    status: 0,
    question:
      "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft",
  },
  {
    letter: "q",
    answer: "queso",
    estado: false,
    status: 0,
    question:
      "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche",
  },
  {
    letter: "r",
    answer: "raton",
    estado: false,
    status: 0,
    question: "CON LA R. Roedor",
  },
  {
    letter: "s",
    answer: "stackoverflow",
    estado: false,
    status: 0,
    question: "CON LA S. Comunidad salvadora de todo desarrollador informático",
  },
  {
    letter: "t",
    answer: "terminator",
    estado: false,
    status: 0,
    question:
      "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984",
  },
  {
    letter: "u",
    answer: "unamuno",
    estado: false,
    status: 0,
    question:
      "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914",
  },
  {
    letter: "v",
    answer: "vikingos",
    estado: false,
    status: 0,
    question:
      "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa",
  },
  {
    letter: "w",
    answer: "sandwich",
    estado: false,
    status: 0,
    question:
      "CONTIENE LA W. Emparedado hecho con dos rebanadas de pan entre las cuales se coloca jamón y queso",
  },
  {
    letter: "x",
    answer: "botox",
    estado: false,
    status: 0,
    question: "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética",
  },
  {
    letter: "y",
    answer: "peyote",
    estado: false,
    status: 0,
    question:
      "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal por indígenas americanos",
  },
  {
    letter: "z",
    answer: "zen",
    estado: false,
    status: 0,
    question:
      "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional",
  },
];

const preguntas2 = [
  {
    letter: "a",
    answer: "anticuario",
    estado: false,
    status: 0,
    question: "CON LA A. Persona que colecciona antiguedades",
  },
  {
    letter: "b",
    answer: "biberon",
    estado: false,
    status: 0,
    question:
      "CON LA B. Utensilio para la lactancia artificial que consiste en una botella con una tetina artificial",
  },
  {
    letter: "c",
    answer: "capo",
    estado: false,
    status: 0,
    question: "CON LA C. Jefe de una mafia, especialmente de narcotraficantes",
  },
  {
    letter: "d",
    answer: "desodorante",
    estado: false,
    status: 0,
    question: "CON LA D. Producto que se utiliza para reducir el olor",
  },
  {
    letter: "e",
    answer: "efimero",
    estado: false,
    status: 0,
    question: "CON LA E. Pasajero, de corta duración",
  },
  {
    letter: "f",
    answer: "faja",
    estado: false,
    status: 0,
    question:
      "CON LA F. Prenda interior elástica que ciñe la cintura o la cintura y las caderas",
  },
  {
    letter: "g",
    answer: "gominola",
    estado: false,
    status: 0,
    question:
      "CON LA G. Golosina blanda masticable, generalmente cubierta de azúcar",
  },
  {
    letter: "h",
    answer: "historia",
    estado: false,
    status: 0,
    question:
      "CON LA H. Conjunto de todos los hechos ocurridos en tiempos pasados",
  },
  {
    letter: "i",
    answer: "ilves",
    estado: false,
    status: 0,
    question:
      "CON LA I. Apellido del político que fue presidente de Estonia entre los años 2006 y 2016",
  },
  {
    letter: "j",
    answer: "judion",
    estado: false,
    status: 0,
    question: "CON LA J. Variedad de judía de vainas anchas y semilla grande",
  },
  {
    letter: "k",
    answer: "kevin",
    estado: false,
    status: 0,
    question:
      "CON LA K. Nombre del jugador profesional de baloncesto que ha gando 2 anillos y que se caracteriza por llevar el dorsal 35",
  },
  {
    letter: "l",
    answer: "linaje",
    estado: false,
    status: 0,
    question:
      "CON LA L. Ascendencia o descendencia de una familia, especialmente noble",
  },
  {
    letter: "m",
    answer: "madriguera",
    estado: false,
    status: 0,
    question:
      "CON LA M. Cueva en que habitan ciertos animales, especialmente los conejos",
  },
  {
    letter: "n",
    answer: "nabato",
    estado: false,
    status: 0,
    question: "CON LA N. Espinazo de los vertebrados",
  },
  {
    letter: "ñ",
    answer: "acuñar",
    estado: false,
    status: 0,
    question: "CONTIENE LA Ñ. Hacer o fabricar moneda",
  },
  {
    letter: "o",
    answer: "onirico",
    estado: false,
    status: 0,
    question: "CON LA O. Perteneciente o relativo a los sueños",
  },
  {
    letter: "p",
    answer: "piolet",
    estado: false,
    status: 0,
    question:
      "CON LA P. Instrumento con forma de pico que utilizan los alpinistas para asegurar sus movimientos sobre la nieve o el hielo",
  },
  {
    letter: "q",
    answer: "equilatero",
    estado: false,
    status: 0,
    question:
      "CON LA Q. Se dice del triángulo que tiene todos los lados iguales",
  },
  {
    letter: "r",
    answer: "risaralda",
    estado: false,
    status: 0,
    question:
      "CON LA R. Departamento de Colombia con capital en la ciudad de Pereira",
  },
  {
    letter: "s",
    answer: "sentar",
    estado: false,
    status: 0,
    question:
      "CON LA S. Poner o colocar a alguien en una silla o banco, de manera que quede apoyado y descansando sobre las nalgas",
  },
  {
    letter: "t",
    answer: "tipi",
    estado: false,
    status: 0,
    question:
      "CON LA T. Tienda de piel de forma cónica que utilizaban como viviendas los indios de las praderas de América del Norte",
  },
  {
    letter: "u",
    answer: "unilateral",
    estado: false,
    status: 0,
    question:
      "CON LA U. Que se refiere o se circunscribe solamemente a una parte o a un aspecto de algo",
  },
  {
    letter: "v",
    answer: "vilano",
    estado: false,
    status: 0,
    question: "CON LA V. Flor del cardo",
  },
  {
    letter: "w",
    answer: "www",
    estado: false,
    status: 0,
    question:
      "CONTIENE LA W. Conjunto de letras que se usa para acceder a una página web",
  },
  {
    letter: "x",
    answer: "dux",
    estado: false,
    status: 0,
    question:
      "CONTIENE LA X. En las Repúblicas de Venecia y Génova, príncipe o magistrado supremo",
  },
  {
    letter: "y",
    answer: "ensayar",
    estado: false,
    status: 0,
    question:
      "CONTIENE LA Y. Preparar el montaje o ejecución de un espectáculo",
  },
  {
    letter: "z",
    answer: "zumbado",
    estado: false,
    status: 0,
    question: "CON LA Z. Participio del verbo zumbar",
  },
];

const preguntas3 = [
  {
    letter: "A",
    question:
      "Con la A. Instrumento utilizado en el siglo XIII para contar y realizar operaciones aritméticas.",
    answer: "abaco",
    status: 0,
  },
  {
    letter: "B",
    question: "Con la B. Entrar en el agua para lavarse, para nadar o jugar.",
    answer: "bañarse",
    status: 0,
  },
  {
    letter: "C",
    question:
      "Con la C. Ropa de abrigo que cubre desde los hombros a la cintura.",
    answer: "cazadora",
    status: 0,
  },
  {
    letter: "D",
    question: "Con la D. Que tiene poca fuerza, poco vigor o poca resistencia.",
    answer: "debil",
    status: 0,
  },
  {
    letter: "E",
    question:
      "Con la E. Lugar que se usa para viviendas, oficinas, colegios, etc.",
    answer: "edificio",
    status: 0,
  },
  {
    letter: "F",
    question: "Con la F. Tiempo que viene después.",
    answer: "futuro",
    status: 0,
  },
  {
    letter: "G",
    question:
      "Con la G. Máquina para levantar objetos pesados y moverlos de un lugar a otro.",
    answer: "grua",
    status: 0,
  },
  {
    letter: "H",
    question: "Con la H. Ir abajo dentro del agua.",
    answer: "hundir",
    status: 0,
  },
  {
    letter: "I",
    question: "Con la I. Territorio que está rodeado de agua por todas partes.",
    answer: "isla",
    status: 0,
  },
  {
    letter: "J",
    question: "Con la J. Persona que juega.",
    answer: "jugador",
    status: 0,
  },
  {
    letter: "K",
    question: "Con la K. Medida para pesar (equivale a mil gramos).",
    answer: "kilo",
    status: 0,
  },
  {
    letter: "L",
    question: "Con la L. Envase de metal.",
    answer: "lata",
    status: 0,
  },
  {
    letter: "M",
    question:
      "Con la M. Fruta de piel fina, amarilla, verde o roja, de carne blanca y dura.",
    answer: "manzana",
    status: 0,
  },
  {
    letter: "N",
    question: "Con la N. Ningún día o en ningún tiempo.",
    answer: "nunca",
    status: 0,
  },
  {
    letter: "Ñ",
    question:
      "Contiene la Ñ. Tiempo que tarda la Tierra en dar una vuelta completa alrededor del Sol.",
    answer: "año",
    status: 0,
  },
  {
    letter: "O",
    question:
      "Con la O. Animal doméstico que tiene el cuerpo cubierto de lana.",
    answer: "oveja",
    status: 0,
  },
  {
    letter: "P",
    question: "Con la P. Andar por placer o para hacer ejercicio.",
    answer: "pasear",
    status: 0,
  },
  {
    letter: "Q",
    question: "Con la Q. Alimento sólido preparado con leche.",
    answer: "queso",
    status: 0,
  },
  {
    letter: "R",
    question: "Con la R. Pocas palabras que  cuentan una historia más larga.",
    answer: "resumen",
    status: 0,
  },
  {
    letter: "S",
    question: "Con la S. Calzado que no tapa todo el pie.",
    answer: "sandalia",
    status: 0,
  },
  {
    letter: "T",
    question: "Con la T. Parte de una habitación que está arriba.",
    answer: "techo",
    status: 0,
  },
  {
    letter: "U",
    question: "Con la U. Que no puede esperar.",
    answer: "urgente",
    status: 0,
  },
  {
    letter: "V",
    question: "Con la V. Que es muy rápido.",
    answer: "veloz",
    status: 0,
  },
  {
    letter: "W",
    question: "Con la W. Apellido de Naomi.",
    answer: "watts",
    status: 0,
  },
  {
    letter: "X",
    question: "Con la X. Cuarenta en números romanos.",
    answer: "xl",
    status: 0,
  },
  {
    letter: "Y",
    question: "Con la Y. Hembra del caballo",
    answer: "yegua",
    status: 0,
  },
  {
    letter: "Z",
    question: "Con la Z. Empezar a navegar",
    answer: "zarpar",
    status: 0,
  },
];

const usuario = document.getElementById("usuario-input");
const nombreUsuario = document.getElementById("nombre-usuario");
const tiempoRestante = document.getElementById("tiempo");
const mostrarPregunta = document.getElementById("pregunta-pasapalabra");
const numeroAciertos = document.getElementById("aciertos");
const resultados = document.getElementById("puntuacion-final");
const respuesta = document.getElementById("respuesta-input");
const element = document.getElementById("body");
const element2 = document.getElementById("body2");
element2.style.display = "none";
const element3 = document.getElementById("body3");
element3.style.display = "none";
tiempoRestante.innerHTML = 120;

let correct = 0;
let errors = 0;
let index = 0;
let number = 0;
const preguntas = preguntasSelector();
let segundos = 120;
let cuentaAtras;

function jugar() {
  const usuarioString = usuario.value;
  if (usuarioString == null) {
    alert("Escribe un nombre de usuario!");
  } else if (usuarioString.trim().length > 0) {
    element.style.display = "none";
    element2.style.display = "grid";
    nombreUsuario.innerHTML = usuarioString;
    numeroAciertos.innerHTML = number;
    mostrarPreguntas();
    pasapalabraTimer();
  } else if (usuarioString.trim().length === 0) {
    alert("Escribe un nombre de usuario!");
  } else {
    alert("Escribe un nombre de usuario!");
  }
}
// Estados: 0 No contestado - 1 Respuesta correcta - 2 Respuesta incorrecta - 3 Pasada

function preguntasSelector() {
  switch (Math.floor(Math.random() * 3) + 1) {
    case 1:
      return preguntas1;
    case 2:
      return preguntas2;
    case 3:
      return preguntas3;
    default:
      return preguntas1;
  }
}

function fin() {
  element2.style.display = "none";
  element3.style.display = "grid";
  const usuarioString = usuario.value;
  const resultadosString = `${usuarioString}: Has obtenido ${correct} aciertos de un total de 27`;
  resultados.innerHTML = resultadosString;
}

function iniciarDeNuevo() {
  element3.style.display = "none";
  element.style.display = "grid";
  preguntas.forEach((question) => {
    question.status = 0;
    correct = 0;
    errors = 0;
    index = 0;
    number = 0;
    segundos = 120;
    tiempoRestante.innerHTML = segundos;
    numeroAciertos.innerHTML = number;
    usuario.value = "";
    nombreUsuario.value = "usuario";
  });
}

function mostrarPreguntas() {
  if (index < preguntas.length) {
    if (preguntas[index].status === 0) {
      const mostrar = preguntas[index].question;
      mostrarPregunta.innerHTML = mostrar;
    } else if (preguntas[index].status === 1) {
      index += 1;
      mostrarPreguntas();
    } else if (preguntas[index].status === 2) {
      index += 1;
      mostrarPreguntas();
    } else if (preguntas[index].status === 3) {
      const mostrar = preguntas[index].question;
      mostrarPregunta.innerHTML = mostrar;
    }
  } else {
    index = 0;
    mostrarPreguntas();
  }
}

const bg = document.getElementById("fondo");

function checkRespuesta() {
  if (correct + errors === preguntas.length) {
    clearInterval(cuentaAtras);
    cuentaAtras = null;
    return fin();
  }
  const respuestaUsuario = respuesta.value;
  if (respuestaUsuario == null) {
    alert("No te olvides de escribir la respuesta!");
    return mostrarPreguntas();
  }
  if (respuestaUsuario.trim().length > 0) {
    if (respuestaUsuario === preguntas[index].answer) {
      bg.classList.replace("item", "correcto");
      alert("Acierto!");
      preguntas[index].status = 1;
      correct += 1;
      index += 1;
      number += 1;
      numeroAciertos.innerHTML = number;
      mostrarPreguntas();
    } else if (respuestaUsuario.trim().toLowerCase() === "end") {
      clearInterval(cuentaAtras);
      cuentaAtras = null;
      fin();
    } else if (respuestaUsuario.trim().toLowerCase() === "pasapalabra") {
      alert("Pasapalabra!");
      preguntas[index].status = 3;
      index += 1;
      mostrarPreguntas();
    } else {
      alert("Fallo!");
      preguntas[index].status = 2;
      errors += 1;
      index += 1;
      mostrarPreguntas();
    }
  } else if (respuestaUsuario.trim().length === 0) {
    alert("No te olvides de escribir la respuesta!");
    return mostrarPreguntas();
  } else {
    alert("No te olvides de escribir la respuesta!");
    return mostrarPreguntas();
  }

  respuesta.value = "";
}

function pasapalabra() {
  alert("Pasapalabra!");
  preguntas[index].status = 3;
  index += 1;
  mostrarPreguntas();
}

const pasapalabraTimer = () => {
  cuentaAtras = setInterval(() => {
    segundos--;
    tiempoRestante.innerHTML = segundos;
    if (segundos === 0) {
      clearInterval(cuentaAtras);
      cuentaAtras = null;
      fin();
    }
  }, 1000);
};
